<!DOCTYPE html>
<html lang="{{ .Lang }}" itemscope itemtype="http://schema.org/WebPage">
  {{- partial "head.html" . -}}
  <body class="bg-gray-100 dark:bg-gray-800 dark:text-white relative flex flex-col min-h-screen">
    <script>
      const darkStorage = localStorage.getItem('darkmode');
      const isBrowserDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

      if (!darkStorage && isBrowserDark) {
        document.documentElement.classList.add('dark');
        localStorage.setItem('darkmode', 'dark')
      }
      if (darkStorage && darkStorage === 'dark') {
        document.documentElement.classList.add('dark')
      }
    </script>
    {{- partial "header.html" . -}}
    <main class="flex-1">
    {{- block "main" . }}{{- end }}
    </main>
    {{- partial "footer.html" . -}}
  </body>
</html>
